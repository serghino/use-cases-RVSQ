@startuml RVSQ-UC-22_Recherche_Automatique_Continue
left to right direction

' --- Acteurs
actor "Plateforme RVSQ" as RVSQActor <<system>>
actor "Citoyen" as Citoyen <<person>>

rectangle "Plateforme RVSQ" {
  usecase "RVSQ-UC-22 : Recherche automatique continue" as UC22
  usecase "Lire critères enregistrés" as UC22_A
  usecase "Interroger DME" as UC22_B
  usecase "Détecter correspondance et notifier" as UC22_C
  usecase "Surveillance continue" as UC22_D
  usecase "Backoff exponentiel" as UC22_E
}

rectangle "Systèmes Externes" {
  usecase "DME" as DME
}

' --- Relations principales
RVSQActor --> UC22
UC22 ..> UC22_A : <<include>>
UC22 ..> UC22_B : <<include>>
UC22 ..> UC22_C : <<include>>
UC22_B ..> DME : <<include>>
UC22 --> Citoyen

' --- Extensions conditionnelles
UC22 ..> UC22_D : <<extend>> : Aucun résultat trouvé
UC22 ..> UC22_E : <<extend>> : Quota DME atteint

note top of UC22
  **Caractéristique associée :** CAR22
  **Objectif :** exécuter en continu une recherche automatisée selon
  les critères enregistrés par le citoyen et notifier dès qu'une correspondance est trouvée.
end note

note bottom of UC22
  Les extensions « Surveillance continue » et « Backoff exponentiel »
  s'exécutent respectivement lors d'absence de résultat ou de saturation API.
  Le déclenchement de notification (UC23) intervient dès la détection d'un créneau valide.
end note
@enduml
